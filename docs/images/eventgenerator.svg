<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than draw.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1821px" height="1136px" viewBox="-0.5 -0.5 1821 1136" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2024-06-11T08:32:32.145Z&quot; agent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/125.0.0.0 Safari/537.36&quot; etag=&quot;AnRY9uOzsDXPmLOhY-BM&quot; version=&quot;24.5.2&quot; type=&quot;device&quot;&gt;&#10;  &lt;diagram id=&quot;ClWLAPvfIvwGukn5o-0z&quot; name=&quot;Page-1&quot;&gt;&#10;    &lt;mxGraphModel dx=&quot;2397&quot; dy=&quot;2160&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;827&quot; pageHeight=&quot;1169&quot; background=&quot;#FAF0E6&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&#10;      &lt;root&gt;&#10;        &lt;mxCell id=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;1&quot; parent=&quot;0&quot; /&gt;&#10;        &lt;mxCell id=&quot;9_87h270WvveJxzQN95r-19&quot; value=&quot;&quot; style=&quot;shape=ext;double=1;rounded=0;whiteSpace=wrap;html=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-450&quot; y=&quot;-45&quot; width=&quot;1290&quot; height=&quot;1035&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;5jKPnMyUO06NFUxs2QiG-3&quot; value=&quot;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-400&quot; y=&quot;-6.71&quot; width=&quot;660&quot; height=&quot;566.71&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;5jKPnMyUO06NFUxs2QiG-5&quot; value=&quot;&quot; style=&quot;group;align=left;&quot; parent=&quot;1&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-275&quot; y=&quot;10&quot; width=&quot;700&quot; height=&quot;900&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;L9qpOW-3P6KpaY6etGPH-18&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;horizontal=1;verticalAlign=top;endArrow=classic;endFill=1;shape=link;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-5&quot; source=&quot;5jKPnMyUO06NFUxs2QiG-8&quot; target=&quot;L9qpOW-3P6KpaY6etGPH-8&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;UvpO6Cl6muvykC16zv0P-12&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.862;entryY=0.991;entryDx=0;entryDy=0;entryPerimeter=0;fontColor=#000000;endArrow=classic;endFill=1;strokeWidth=1;shape=link;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-5&quot; source=&quot;5jKPnMyUO06NFUxs2QiG-8&quot; target=&quot;L9qpOW-3P6KpaY6etGPH-8&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;UvpO6Cl6muvykC16zv0P-13&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;entryX=0.652;entryY=1.019;entryDx=0;entryDy=0;entryPerimeter=0;fontColor=#000000;endArrow=classic;endFill=1;strokeWidth=1;shape=link;strokeColor=#000000;fillColor=#e1d5e7;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-5&quot; source=&quot;5jKPnMyUO06NFUxs2QiG-8&quot; target=&quot;L9qpOW-3P6KpaY6etGPH-8&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;QvIxDatUPJGtcvz327kv-12&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;fontColor=#000000;endArrow=classic;endFill=1;strokeColor=default;strokeWidth=1;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-5&quot; source=&quot;5jKPnMyUO06NFUxs2QiG-8&quot; target=&quot;5jKPnMyUO06NFUxs2QiG-27&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;-195&quot; y=&quot;458&quot; /&gt;&#10;              &lt;mxPoint x=&quot;-195&quot; y=&quot;92&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;QvIxDatUPJGtcvz327kv-13&quot; value=&quot;SaveMetricToCache(...)&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;&quot; parent=&quot;QvIxDatUPJGtcvz327kv-12&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.0651&quot; y=&quot;-3&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint y=&quot;91&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;5jKPnMyUO06NFUxs2QiG-8&quot; value=&quot;&amp;lt;b&amp;gt;Aggregator&amp;lt;/b&amp;gt;&quot; style=&quot;shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-5&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;50&quot; y=&quot;400.0017054263567&quot; width=&quot;243.75&quot; height=&quot;115.03875968992249&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;L9qpOW-3P6KpaY6etGPH-4&quot; value=&quot;&quot; style=&quot;group&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-5&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;26&quot; y=&quot;-3.67&quot; width=&quot;314&quot; height=&quot;158.10000000000002&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;5jKPnMyUO06NFUxs2QiG-26&quot; value=&quot;&amp;lt;br&amp;gt;(PolicyDB, appMetricsDB)&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; parent=&quot;L9qpOW-3P6KpaY6etGPH-4&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;4&quot; width=&quot;150&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;5jKPnMyUO06NFUxs2QiG-27&quot; value=&quot;&amp;lt;b&amp;gt;AppManager&amp;lt;/b&amp;gt;&quot; style=&quot;shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;&quot; parent=&quot;L9qpOW-3P6KpaY6etGPH-4&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;28.620025676369643&quot; width=&quot;243.75&quot; height=&quot;89.04997432363038&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;L9qpOW-3P6KpaY6etGPH-5&quot; value=&quot;&quot; style=&quot;group&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-5&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;120&quot; y=&quot;160&quot; width=&quot;180&quot; height=&quot;125&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;L9qpOW-3P6KpaY6etGPH-11&quot; value=&quot;&quot; style=&quot;group&quot; parent=&quot;L9qpOW-3P6KpaY6etGPH-5&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry width=&quot;180&quot; height=&quot;125&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;5jKPnMyUO06NFUxs2QiG-7&quot; value=&quot;&amp;lt;b&amp;gt;MetricPoller&amp;lt;/b&amp;gt;&quot; style=&quot;shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;&quot; parent=&quot;L9qpOW-3P6KpaY6etGPH-11&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;3.361344537815126&quot; y=&quot;17.274383334131084&quot; width=&quot;163.8655462184874&quot; height=&quot;87.9263285503854&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;L9qpOW-3P6KpaY6etGPH-3&quot; value=&quot;1..config.MetricPollerCount&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; parent=&quot;L9qpOW-3P6KpaY6etGPH-11&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-4.033613445378151&quot; y=&quot;-7.440181926043107&quot; width=&quot;160&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;L9qpOW-3P6KpaY6etGPH-10&quot; value=&quot;&amp;lt;b&amp;gt;MetricPoller&amp;lt;/b&amp;gt;&quot; style=&quot;shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;&quot; parent=&quot;L9qpOW-3P6KpaY6etGPH-11&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;9.411764705882351&quot; y=&quot;24.714565260174208&quot; width=&quot;163.8655462184874&quot; height=&quot;87.9263285503854&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;L9qpOW-3P6KpaY6etGPH-8&quot; value=&quot;&amp;lt;b&amp;gt;MetricPoller&amp;lt;/b&amp;gt;&quot; style=&quot;shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;&quot; parent=&quot;L9qpOW-3P6KpaY6etGPH-11&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;16.134453781512605&quot; y=&quot;37.073671449614594&quot; width=&quot;163.8655462184874&quot; height=&quot;87.9263285503854&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;L9qpOW-3P6KpaY6etGPH-26&quot; value=&quot;&amp;lt;i&amp;gt;&amp;lt;font color=&amp;quot;#ff8000&amp;quot;&amp;gt;The aggregator does not aggregate but only say what and how much will be aggregated. The real aggregation is performed by the MetricPoller and send to the Aggregator.&amp;lt;/font&amp;gt;&amp;lt;/i&amp;gt;&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-5&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;340&quot; y=&quot;300&quot; width=&quot;190&quot; height=&quot;100&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;L9qpOW-3P6KpaY6etGPH-33&quot; value=&quot;&quot; style=&quot;verticalLabelPosition=bottom;sketch=0;aspect=fixed;html=1;verticalAlign=top;strokeColor=none;align=center;outlineConnect=0;shape=mxgraph.citrix.process;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-5&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;294.17&quot; y=&quot;170.00023255813954&quot; width=&quot;26.84&quot; height=&quot;32&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;L9qpOW-3P6KpaY6etGPH-36&quot; value=&quot;&amp;lt;div&amp;gt;Start(): Listen to the instructions in form of *models.AppMonitor. &amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;For each of these metric-collection-instructions, poll the log-cache and do some form of aggregation. Send the result to the Aggregator via the channel “appMetricChan”.&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-5&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;326.84&quot; y=&quot;170&quot; width=&quot;190&quot; height=&quot;114.43&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9_87h270WvveJxzQN95r-12&quot; value=&quot;&quot; style=&quot;verticalLabelPosition=bottom;sketch=0;aspect=fixed;html=1;verticalAlign=top;strokeColor=none;align=center;outlineConnect=0;shape=mxgraph.citrix.process;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-5&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;300&quot; y=&quot;30&quot; width=&quot;21.01&quot; height=&quot;25.04&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;5jKPnMyUO06NFUxs2QiG-9&quot; value=&quot;&quot; style=&quot;group&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-5&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry y=&quot;470&quot; width=&quot;520&quot; height=&quot;430&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;5jKPnMyUO06NFUxs2QiG-10&quot; value=&quot;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-9&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;110&quot; width=&quot;520&quot; height=&quot;320&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;5jKPnMyUO06NFUxs2QiG-11&quot; value=&quot;Server&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-9&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;235&quot; y=&quot;84&quot; width=&quot;50&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;QvIxDatUPJGtcvz327kv-7&quot; value=&quot;&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#000000;endArrow=classic;endFill=1;strokeColor=default;strokeWidth=1;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-9&quot; source=&quot;5jKPnMyUO06NFUxs2QiG-12&quot; target=&quot;5jKPnMyUO06NFUxs2QiG-13&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;5jKPnMyUO06NFUxs2QiG-12&quot; value=&quot;&amp;lt;b&amp;gt;eventgen_handler&amp;lt;/b&amp;gt;&quot; style=&quot;shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-9&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;26&quot; y=&quot;180.99666666666667&quot; width=&quot;243.75&quot; height=&quot;93.33333333333333&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;5jKPnMyUO06NFUxs2QiG-13&quot; value=&quot;&amp;lt;b&amp;gt;Server&amp;lt;/b&amp;gt;&quot; style=&quot;shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-9&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;26&quot; y=&quot;299.3366666666667&quot; width=&quot;243.75&quot; height=&quot;93.33333333333333&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;Vyd45t1Z7LgCRm-i3Gkl-2&quot; value=&quot;&quot; style=&quot;html=1;verticalLabelPosition=bottom;align=center;labelBackgroundColor=#ffffff;verticalAlign=top;strokeWidth=2;strokeColor=#0080F0;shadow=0;dashed=0;shape=mxgraph.ios7.icons.gauge;fontFamily=Helvetica;fontColor=#000000;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-9&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;115&quot; y=&quot;20&quot; width=&quot;20&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;UvpO6Cl6muvykC16zv0P-9&quot; value=&quot;Start(): Caches and refresh app policies managed by this node every conf.Aggregator.PolicyPollerInterval duration&amp;amp;nbsp;internal. It shards policies by node.&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-5&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;330&quot; y=&quot;18.17&quot; width=&quot;190&quot; height=&quot;114.43&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;QvIxDatUPJGtcvz327kv-5&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;endArrow=classic;endFill=1;strokeColor=default;strokeWidth=1;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-5&quot; source=&quot;5jKPnMyUO06NFUxs2QiG-12&quot; target=&quot;5jKPnMyUO06NFUxs2QiG-27&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;-275&quot; y=&quot;698&quot; /&gt;&#10;              &lt;mxPoint x=&quot;-275&quot; y=&quot;70&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;QvIxDatUPJGtcvz327kv-6&quot; value=&quot;AppManager.QueryAppMetrics(...)&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;&quot; parent=&quot;QvIxDatUPJGtcvz327kv-5&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.0509&quot; y=&quot;-1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-1&quot; y=&quot;168&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;27IKVswX-eju5IgAyYJS-1&quot; value=&quot;AppMetrics[]&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#009900;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-5&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;40&quot; y=&quot;220&quot; width=&quot;80&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;Vyd45t1Z7LgCRm-i3Gkl-1&quot; value=&quot;conf.aggregatorInterval&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-5&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;175&quot; y=&quot;485.04&quot; width=&quot;60&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;9_87h270WvveJxzQN95r-20&quot; value=&quot;Autoscaler - Eventgenerator&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;655&quot; y=&quot;-40&quot; width=&quot;170&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;5jKPnMyUO06NFUxs2QiG-15&quot; value=&quot;&quot; style=&quot;group&quot; parent=&quot;1&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;280&quot; y=&quot;10&quot; width=&quot;730&quot; height=&quot;505&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;5jKPnMyUO06NFUxs2QiG-16&quot; value=&quot;&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-15&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;520&quot; height=&quot;430&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;5jKPnMyUO06NFUxs2QiG-17&quot; value=&quot;Generator&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-15&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;225&quot; width=&quot;70&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;875yuKx5SK-Bva3mXbE3-8&quot; value=&quot;1..config.EvaluatorCount&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-15&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;40&quot; y=&quot;30&quot; width=&quot;150&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;875yuKx5SK-Bva3mXbE3-11&quot; value=&quot;TriggersChan:&amp;lt;br&amp;gt;&amp;amp;nbsp;*[]Triggers&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;strokeColor=default;shape=link;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-15&quot; source=&quot;5jKPnMyUO06NFUxs2QiG-19&quot; target=&quot;875yuKx5SK-Bva3mXbE3-15&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;190&quot; y=&quot;200&quot; /&gt;&#10;              &lt;mxPoint x=&quot;190&quot; y=&quot;200&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;875yuKx5SK-Bva3mXbE3-16&quot; value=&quot;&quot; style=&quot;group&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-15&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;50&quot; y=&quot;50&quot; width=&quot;260.42&quot; height=&quot;113.33&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;5jKPnMyUO06NFUxs2QiG-18&quot; value=&quot;&amp;lt;b&amp;gt;evaluator&amp;lt;/b&amp;gt;&quot; style=&quot;shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;&quot; parent=&quot;875yuKx5SK-Bva3mXbE3-16&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;240.67251184834126&quot; height=&quot;93.33058823529413&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;875yuKx5SK-Bva3mXbE3-14&quot; value=&quot;&amp;lt;b&amp;gt;evaluator&amp;lt;/b&amp;gt;&quot; style=&quot;shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;&quot; parent=&quot;875yuKx5SK-Bva3mXbE3-16&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;9.873744075829398&quot; y=&quot;9.999705882352943&quot; width=&quot;240.67251184834126&quot; height=&quot;93.33058823529413&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;875yuKx5SK-Bva3mXbE3-15&quot; value=&quot;&amp;lt;b&amp;gt;evaluator&amp;lt;/b&amp;gt;&quot; style=&quot;shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;&quot; parent=&quot;875yuKx5SK-Bva3mXbE3-16&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;19.747488151658782&quot; y=&quot;19.999411764705886&quot; width=&quot;240.67251184834126&quot; height=&quot;93.33058823529413&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;875yuKx5SK-Bva3mXbE3-7&quot; value=&quot;uuu&quot; style=&quot;group;direction=south;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-15&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;66.67&quot; y=&quot;275&quot; width=&quot;110&quot; height=&quot;195&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;5jKPnMyUO06NFUxs2QiG-19&quot; value=&quot;&amp;lt;b&amp;gt;AppEvaluationManager&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&quot; style=&quot;shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;&quot; parent=&quot;875yuKx5SK-Bva3mXbE3-7&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;236.5808823529412&quot; height=&quot;69.00473933649289&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;875yuKx5SK-Bva3mXbE3-20&quot; value=&quot;ScalingEngine&quot; style=&quot;whiteSpace=wrap;html=1;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-15&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;590&quot; y=&quot;86.66&quot; width=&quot;120&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;875yuKx5SK-Bva3mXbE3-21&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-15&quot; source=&quot;875yuKx5SK-Bva3mXbE3-15&quot; target=&quot;875yuKx5SK-Bva3mXbE3-20&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;875yuKx5SK-Bva3mXbE3-22&quot; value=&quot;POST https&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;875yuKx5SK-Bva3mXbE3-21&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.0834&quot; y=&quot;1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;875yuKx5SK-Bva3mXbE3-23&quot; value=&quot;&quot; style=&quot;group&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-15&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;310.41999999999996&quot; y=&quot;20&quot; width=&quot;369.99999999999994&quot; height=&quot;115&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;875yuKx5SK-Bva3mXbE3-24&quot; value=&quot;&quot; style=&quot;verticalLabelPosition=bottom;sketch=0;aspect=fixed;html=1;verticalAlign=top;strokeColor=none;align=center;outlineConnect=0;shape=mxgraph.citrix.process;&quot; parent=&quot;875yuKx5SK-Bva3mXbE3-23&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;21.67&quot; width=&quot;26.84&quot; height=&quot;32&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;875yuKx5SK-Bva3mXbE3-17&quot; value=&quot;&quot; style=&quot;group&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-15&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;310.42&quot; y=&quot;250&quot; width=&quot;369.99999999999994&quot; height=&quot;120&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;875yuKx5SK-Bva3mXbE3-18&quot; value=&quot;&quot; style=&quot;verticalLabelPosition=bottom;sketch=0;aspect=fixed;html=1;verticalAlign=top;strokeColor=none;align=center;outlineConnect=0;shape=mxgraph.citrix.process;&quot; parent=&quot;875yuKx5SK-Bva3mXbE3-17&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry y=&quot;21.67&quot; width=&quot;26.84&quot; height=&quot;32&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;875yuKx5SK-Bva3mXbE3-19&quot; value=&quot;doEvaluate(): &amp;lt;br&amp;gt;- Create any&amp;amp;nbsp;missing&amp;amp;nbsp;circuite&amp;lt;br&amp;gt;&amp;amp;nbsp;breaker for the appPolicies &amp;lt;br&amp;gt;retrived by &amp;lt;b&amp;gt;AppManager.&amp;lt;br&amp;gt;- &amp;lt;/b&amp;gt;writes on triggers channel&amp;lt;br&amp;gt;an updated list per app of all&amp;lt;br&amp;gt;existing rules on that app &amp;lt;br&amp;gt;policy&amp;lt;b&amp;gt;. &amp;lt;/b&amp;gt;This happens&amp;amp;nbsp;&amp;lt;br&amp;gt;&amp;amp;nbsp;every 60s by default.&amp;lt;br&amp;gt;&amp;lt;span style=&amp;quot;color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px&amp;quot;&amp;gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%22%20style%3D%22group%22%20vertex%3D%221%22%20connectable%3D%220%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%2210%22%20y%3D%2275%22%20width%3D%22230%22%20height%3D%2289.99999999999999%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3CmxCell%20id%3D%223%22%20value%3D%22%22%20style%3D%22verticalLabelPosition%3Dbottom%3Bsketch%3D0%3Baspect%3Dfixed%3Bhtml%3D1%3BverticalAlign%3Dtop%3BstrokeColor%3Dnone%3Balign%3Dcenter%3BoutlineConnect%3D0%3Bshape%3Dmxgraph.citrix.process%3B%22%20vertex%3D%221%22%20parent%3D%222%22%3E%3CmxGeometry%20y%3D%2221.67%22%20width%3D%2226.84%22%20height%3D%2232%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3CmxCell%20id%3D%224%22%20value%3D%22Start()%3A%20Caches%20and%20refresh%20app%20%26lt%3Bbr%26gt%3Bpolicies%20managed%20by%20this%20%26lt%3Bbr%26gt%3BeventGenerator%20node%20every%20x%20time%20%26lt%3Bbr%26gt%3Binternal.%20It%20shards%20policies%20by%20%26lt%3Bbr%26gt%3BeventGenerator%26amp%3Bnbsp%3Bnode.%26lt%3Bbr%26gt%3B%26amp%3Bnbsp%3B%22%20style%3D%22text%3Bhtml%3D1%3Balign%3Dleft%3BverticalAlign%3Dmiddle%3Bresizable%3D0%3Bpoints%3D%5B%5D%3Bautosize%3D1%3BstrokeColor%3Dnone%3BfillColor%3Dnone%3B%22%20vertex%3D%221%22%20parent%3D%222%22%3E%3CmxGeometry%20x%3D%2229.999999999999943%22%20width%3D%22200%22%20height%3D%2290%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3ECra&amp;lt;/span&amp;gt;&amp;lt;b&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-15&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;340.42&quot; y=&quot;260&quot; width=&quot;170&quot; height=&quot;150&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;875yuKx5SK-Bva3mXbE3-25&quot; value=&quot;doEvaluate(): &amp;lt;br&amp;gt;- sets default break duration if&amp;amp;nbsp;&amp;lt;br&amp;gt;duration is missing for specific&amp;amp;nbsp;&amp;lt;br&amp;gt;triggers&amp;lt;br&amp;gt;&amp;lt;span style=&amp;quot;color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px&amp;quot;&amp;gt;%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%22%20style%3D%22group%22%20vertex%3D%221%22%20connectable%3D%220%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%2210%22%20y%3D%2275%22%20width%3D%22230%22%20height%3D%2289.99999999999999%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3CmxCell%20id%3D%223%22%20value%3D%22%22%20style%3D%22verticalLabelPosition%3Dbottom%3Bsketch%3D0%3Baspect%3Dfixed%3Bhtml%3D1%3BverticalAlign%3Dtop%3BstrokeColor%3Dnone%3Balign%3Dcenter%3BoutlineConnect%3D0%3Bshape%3Dmxgraph.citrix.process%3B%22%20vertex%3D%221%22%20parent%3D%222%22%3E%3CmxGeometry%20y%3D%2221.67%22%20width%3D%2226.84%22%20height%3D%2232%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3CmxCell%20id%3D%224%22%20value%3D%22Start()%3A%20Caches%20and%20refresh%20app%20%26lt%3Bbr%26gt%3Bpolicies%20managed%20by%20this%20%26lt%3Bbr%26gt%3BeventGenerator%20node%20every%20x%20time%20%26lt%3Bbr%26gt%3Binternal.%20It%20shards%20policies%20by%20%26lt%3Bbr%26gt%3BeventGenerator%26amp%3Bnbsp%3Bnode.%26lt%3Bbr%26gt%3B%26amp%3Bnbsp%3B%22%20style%3D%22text%3Bhtml%3D1%3Balign%3Dleft%3BverticalAlign%3Dmiddle%3Bresizable%3D0%3Bpoints%3D%5B%5D%3Bautosize%3D1%3BstrokeColor%3Dnone%3BfillColor%3Dnone%3B%22%20vertex%3D%221%22%20parent%3D%222%22%3E%3CmxGeometry%20x%3D%2229.999999999999943%22%20width%3D%22200%22%20height%3D%2290%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3ECra&amp;lt;/span&amp;gt;&amp;lt;b&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/b&amp;gt;&quot; style=&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; parent=&quot;5jKPnMyUO06NFUxs2QiG-15&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;340.4199999999999&quot; y=&quot;20&quot; width=&quot;180&quot; height=&quot;80&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;L9qpOW-3P6KpaY6etGPH-22&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;&quot; parent=&quot;1&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-660&quot; y=&quot;98.96&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;-385&quot; y=&quot;220&quot; /&gt;&#10;              &lt;mxPoint x=&quot;-590&quot; y=&quot;220&quot; /&gt;&#10;              &lt;mxPoint x=&quot;-590&quot; y=&quot;216&quot; /&gt;&#10;            &lt;/Array&gt;&#10;            &lt;mxPoint x=&quot;-390&quot; y=&quot;219.9949999999999&quot; as=&quot;sourcePoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;UvpO6Cl6muvykC16zv0P-6&quot; value=&quot;GET&amp;amp;nbsp;/v1/apps/{appid}/metric_histories/{metrictype}&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;&quot; parent=&quot;L9qpOW-3P6KpaY6etGPH-22&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.3224&quot; y=&quot;-1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;55&quot; y=&quot;1&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;5jKPnMyUO06NFUxs2QiG-4&quot; value=&quot;Aggregator&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-52.67&quot; y=&quot;-6.714418604651157&quot; width=&quot;80&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;UvpO6Cl6muvykC16zv0P-7&quot; value=&quot;&quot; style=&quot;verticalLabelPosition=bottom;sketch=0;aspect=fixed;html=1;verticalAlign=top;strokeColor=none;align=center;outlineConnect=0;shape=mxgraph.citrix.process;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;27.329999999999984&quot; y=&quot;461.2102325581395&quot; width=&quot;26.84&quot; height=&quot;32&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;UvpO6Cl6muvykC16zv0P-8&quot; value=&quot;&amp;lt;div&amp;gt;Start():&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;Pulls all policies via AppManager and turns them into AppMonitor rules that get streamed to the a MetricPoller.&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;Caches appMetrics and periodically saves them in Bulk via AppManager&amp;amp;nbsp;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;59.99999999999994&quot; y=&quot;430&quot; width=&quot;190&quot; height=&quot;114.43&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;UvpO6Cl6muvykC16zv0P-15&quot; value=&quot;&amp;lt;span style=&amp;quot;font-size: 11px ; background-color: rgb(255 , 255 , 255)&amp;quot;&amp;gt;appMonitorChan: &amp;lt;br&amp;gt;*models.AppMonitor&amp;lt;/span&amp;gt;&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#000000;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-150&quot; y=&quot;360&quot; width=&quot;230&quot; height=&quot;30&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;UvpO6Cl6muvykC16zv0P-18&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=0;exitDx=0;exitDy=0;fontColor=#000000;endArrow=classic;endFill=1;strokeColor=default;strokeWidth=1;&quot; parent=&quot;1&quot; source=&quot;5jKPnMyUO06NFUxs2QiG-18&quot; target=&quot;5jKPnMyUO06NFUxs2QiG-27&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;470&quot; y=&quot;60&quot; /&gt;&#10;              &lt;mxPoint x=&quot;470&quot; y=&quot;-20&quot; /&gt;&#10;              &lt;mxPoint x=&quot;-122&quot; y=&quot;-20&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;UvpO6Cl6muvykC16zv0P-19&quot; value=&quot;AppManager.QueryAppMetrics(...)&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;&quot; parent=&quot;UvpO6Cl6muvykC16zv0P-18&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.0251&quot; y=&quot;-1&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;54&quot; y=&quot;1&quot; as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;QvIxDatUPJGtcvz327kv-2&quot; value=&quot;&quot; style=&quot;endArrow=classic;html=1;rounded=0;fontColor=#000000;strokeColor=default;strokeWidth=1;&quot; parent=&quot;1&quot; target=&quot;5jKPnMyUO06NFUxs2QiG-13&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;-122&quot; y=&quot;1030&quot; as=&quot;sourcePoint&quot; /&gt;&#10;            &lt;mxPoint x=&quot;-80&quot; y=&quot;980&quot; as=&quot;targetPoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;QvIxDatUPJGtcvz327kv-4&quot; value=&quot;&amp;lt;span style=&amp;quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&amp;quot;&amp;gt;GET&amp;amp;nbsp;&amp;quot;/v1/apps/{appid}/aggregated_metric_histories/{metrictype}&amp;quot;&amp;lt;/span&amp;gt;&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;&quot; parent=&quot;QvIxDatUPJGtcvz327kv-2&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;0.052&quot; y=&quot;-2&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;QvIxDatUPJGtcvz327kv-10&quot; value=&quot;Instance metrics&amp;amp;nbsp;&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#000000;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-520&quot; y=&quot;120&quot; width=&quot;110&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;QvIxDatUPJGtcvz327kv-11&quot; value=&quot;App Metrics&quot; style=&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontColor=#000000;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-300&quot; y=&quot;920&quot; width=&quot;80&quot; height=&quot;20&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ilY8ghBpnVqd0pK6SLJe-3&quot; value=&quot;apiserver&quot; style=&quot;rounded=0;whiteSpace=wrap;html=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-179.99999999999997&quot; y=&quot;1030&quot; width=&quot;120&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;Gnhy_Y2wffoBKlFwF2vQ-16&quot; value=&quot;&quot; style=&quot;group&quot; parent=&quot;1&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-810&quot; y=&quot;280&quot; width=&quot;545&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ilY8ghBpnVqd0pK6SLJe-2&quot; value=&quot;log-cache&quot; style=&quot;rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#009900;&quot; parent=&quot;Gnhy_Y2wffoBKlFwF2vQ-16&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry width=&quot;132.12121212121212&quot; height=&quot;60&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;Gnhy_Y2wffoBKlFwF2vQ-11&quot; value=&quot;&amp;lt;span&amp;gt;LogCacheClient&amp;lt;/span&amp;gt;&quot; style=&quot;rounded=0;whiteSpace=wrap;html=1;&quot; parent=&quot;Gnhy_Y2wffoBKlFwF2vQ-16&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;423.88888888888886&quot; y=&quot;18.890000000000043&quot; width=&quot;121.11111111111111&quot; height=&quot;22.21&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;ilY8ghBpnVqd0pK6SLJe-1&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#000000;endArrow=classic;endFill=1;strokeColor=#009900;strokeWidth=1;fillColor=#006600;startArrow=none;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;&quot; parent=&quot;Gnhy_Y2wffoBKlFwF2vQ-16&quot; source=&quot;Gnhy_Y2wffoBKlFwF2vQ-11&quot; target=&quot;ilY8ghBpnVqd0pK6SLJe-2&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint x=&quot;132.12121212121212&quot; y=&quot;29.670000000000016&quot; as=&quot;targetPoint&quot; /&gt;&#10;            &lt;Array as=&quot;points&quot; /&gt;&#10;            &lt;mxPoint x=&quot;517.4747474747475&quot; y=&quot;46.670000000000016&quot; as=&quot;sourcePoint&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;Gnhy_Y2wffoBKlFwF2vQ-14&quot; value=&quot;&amp;lt;span style=&amp;quot;color: rgb(0 , 153 , 0)&amp;quot;&amp;gt;via HTTPS or gRPC&amp;lt;/span&amp;gt;&quot; style=&quot;edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];&quot; parent=&quot;ilY8ghBpnVqd0pK6SLJe-1&quot; vertex=&quot;1&quot; connectable=&quot;0&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-0.0356&quot; y=&quot;-3&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;mxPoint as=&quot;offset&quot; /&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;Gnhy_Y2wffoBKlFwF2vQ-21&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.75;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;&quot; parent=&quot;1&quot; source=&quot;Gnhy_Y2wffoBKlFwF2vQ-19&quot; target=&quot;Gnhy_Y2wffoBKlFwF2vQ-11&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;-265&quot; y=&quot;259&quot; /&gt;&#10;              &lt;mxPoint x=&quot;-336&quot; y=&quot;259&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;Gnhy_Y2wffoBKlFwF2vQ-19&quot; value=&quot;&quot; style=&quot;triangle;whiteSpace=wrap;html=1;&quot; parent=&quot;1&quot; vertex=&quot;1&quot;&gt;&#10;          &lt;mxGeometry x=&quot;-289&quot; y=&quot;235.2&quot; width=&quot;40&quot; height=&quot;40&quot; as=&quot;geometry&quot; /&gt;&#10;        &lt;/mxCell&gt;&#10;        &lt;mxCell id=&quot;Gnhy_Y2wffoBKlFwF2vQ-23&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;&quot; parent=&quot;1&quot; source=&quot;Gnhy_Y2wffoBKlFwF2vQ-19&quot; target=&quot;5jKPnMyUO06NFUxs2QiG-7&quot; edge=&quot;1&quot;&gt;&#10;          &lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&#10;            &lt;Array as=&quot;points&quot;&gt;&#10;              &lt;mxPoint x=&quot;-188&quot; y=&quot;255&quot; /&gt;&#10;              &lt;mxPoint x=&quot;-188&quot; y=&quot;253&quot; /&gt;&#10;            &lt;/Array&gt;&#10;          &lt;/mxGeometry&gt;&#10;        &lt;/mxCell&gt;&#10;      &lt;/root&gt;&#10;    &lt;/mxGraphModel&gt;&#10;  &lt;/diagram&gt;&#10;&lt;/mxfile&gt;&#10;" style="background-color: rgb(250, 240, 230);"><defs/><rect fill="#FAF0E6" width="100%" height="100%" x="0" y="0"/><g><g><rect x="360" y="0" width="1290" height="1035" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><rect x="362" y="2" width="1286" height="1031" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><rect x="410" y="38.29" width="660" height="566.71" rx="85.01" ry="85.01" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g/><g><path d="M 765.81 455 L 765.8 395.5 L 792 395.5 L 792.03 340 M 796.03 340 L 796 399.5 L 769.8 399.5 L 769.81 455 M 796.03 340" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="1.42" pointer-events="all"/></g><g><path d="M 765.81 455 L 765.8 395.5 L 810.4 395.5 L 810.39 339.21 M 814.39 339.21 L 814.4 399.5 L 769.8 399.5 L 769.81 455 M 814.39 339.21" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="1.42" pointer-events="all"/></g><g><path d="M 765.81 455 L 765.8 395.5 L 776 395.5 L 775.97 341.67 M 779.97 341.67 L 780 399.5 L 769.8 399.5 L 769.81 455 M 779.97 341.67" fill="none" stroke="#000000" stroke-miterlimit="1.42" pointer-events="all"/></g><g><path d="M 585 512.52 L 340 512.5 L 340 146.7 L 554.63 146.74" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 559.88 146.74 L 552.88 150.24 L 554.63 146.74 L 552.88 143.24 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 460px; margin-left: 344px;"><div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">SaveMetricToCache(...)</div></div></div></foreignObject><text x="344" y="463" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">SaveMetricToCache(...)</text></switch></g></g><g><rect x="585" y="455" width="243.75" height="115.04" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 609 455 L 609 570.04 M 804.75 455 L 804.75 570.04" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 193px; height: 1px; padding-top: 513px; margin-left: 610px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><b>Aggregator</b></div></div></div></foreignObject><text x="706" y="516" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Aggregator</text></switch></g></g><g/><g><rect x="565" y="51.33" width="150" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 66px; margin-left: 640px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><br />(PolicyDB, appMetricsDB)</div></div></div></foreignObject><text x="640" y="70" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">&#xa;(PolicyDB, appMetricsDB)</text></switch></g></g><g><rect x="561" y="79.95" width="243.75" height="89.05" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 585 79.95 L 585 169 M 780.75 79.95 L 780.75 169" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 193px; height: 1px; padding-top: 124px; margin-left: 586px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><b>AppManager</b></div></div></div></foreignObject><text x="682" y="128" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">AppManager</text></switch></g></g><g/><g/><g><rect x="658.36" y="232.27" width="163.87" height="87.93" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 674.36 232.27 L 674.36 320.2 M 806.23 232.27 L 806.23 320.2" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 129px; height: 1px; padding-top: 276px; margin-left: 675px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><b>MetricPoller</b></div></div></div></foreignObject><text x="740" y="280" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">MetricPoller</text></switch></g></g><g><rect x="650.97" y="207.56" width="160" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 218px; margin-left: 731px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">1..config.MetricPollerCount</div></div></div></foreignObject><text x="731" y="221" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">1..config.MetricPollerCount</text></switch></g></g><g><rect x="664.41" y="239.71" width="163.87" height="87.93" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 680.41 239.71 L 680.41 327.64 M 812.28 239.71 L 812.28 327.64" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 129px; height: 1px; padding-top: 284px; margin-left: 681px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><b>MetricPoller</b></div></div></div></foreignObject><text x="746" y="287" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">MetricPoller</text></switch></g></g><g><rect x="671.13" y="252.07" width="163.87" height="87.93" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 687.13 252.07 L 687.13 340 M 819 252.07 L 819 340" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 129px; height: 1px; padding-top: 296px; margin-left: 688px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><b>MetricPoller</b></div></div></div></foreignObject><text x="753" y="300" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">MetricPoller</text></switch></g></g><g><rect x="875" y="355" width="190" height="100" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 405px; margin-left: 876px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><i><font color="#ff8000">The aggregator does not aggregate but only say what and how much will be aggregated. The real aggregation is performed by the MetricPoller and send to the Aggregator.</font></i></div></div></div></foreignObject><text x="970" y="409" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">The aggregator does not aggrega...</text></switch></g></g><g><path d="M 834.6 256.9 L 833.37 236.23 L 835.01 235.87 L 836.39 237.26 C 836.75 237.22 837.11 237.24 837.47 237.31 L 837.98 236.28 L 839.52 235.97 L 840.64 236.67 L 840.98 239 C 841.62 239.59 842.19 240.37 842.64 241.31 L 844.18 241.64 L 844.64 243.05 L 843.82 244.95 C 843.98 245.95 844.03 246.99 843.97 248.03 L 845.05 249.72 L 844.74 251.56 L 843.2 251.92 C 842.84 252.64 842.41 253.26 841.92 253.77 L 841.92 256.15 L 840.95 256.74 L 839.21 257 L 837.52 254.64 L 835.83 256.95 Z M 837.83 246.95 L 837.37 245.05 C 837.2 244.92 837.02 245 836.89 245.27 C 836.76 245.54 836.68 245.96 836.7 246.38 C 836.75 246.88 836.93 247.27 837.17 247.39 C 837.41 247.51 837.67 247.34 837.83 246.95 Z" fill="#697079" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/><rect x="829.17" y="225" width="0" height="0" fill="none" stroke="none" pointer-events="all"/><path d="M 845.56 246.03 L 844.33 225.36 L 845.97 225 L 847.35 226.38 C 847.71 226.35 848.07 226.36 848.43 226.44 L 848.94 225.41 L 850.48 225.1 L 851.6 225.8 L 851.94 228.13 C 852.58 228.72 853.15 229.5 853.6 230.44 L 855.14 230.77 L 855.6 232.18 L 854.78 234.08 C 854.94 235.08 855 236.12 854.93 237.15 L 856.01 238.85 L 855.7 240.69 L 854.17 241.05 C 853.8 241.77 853.37 242.39 852.89 242.9 L 852.89 245.28 L 851.91 245.87 L 850.17 246.13 L 848.48 243.77 L 846.79 246.08 Z M 848.79 236.08 L 848.33 234.18 C 848.16 234.05 847.99 234.13 847.85 234.4 C 847.72 234.67 847.65 235.09 847.66 235.51 C 847.71 236 847.89 236.39 848.13 236.52 C 848.38 236.64 848.63 236.47 848.79 236.08 Z" fill="#697079" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/><path d="M 845.56 246.03 L 844.54 245.51 L 844.28 243.13 C 843.59 242.56 842.98 241.76 842.49 240.8 L 841 240.54 L 840.44 239 L 841.41 237.1 C 841.23 236.09 841.16 235.03 841.21 233.97 L 840.13 232.23 L 840.44 230.74 L 841.98 230.51 C 842.34 229.69 842.79 228.97 843.31 228.38 L 843.31 226.08 L 844.33 225.36 L 845.46 226.8 C 846.17 226.58 846.9 226.58 847.61 226.8 L 848.94 225.41 L 849.97 226.03 L 850.12 228.28 C 850.76 228.89 851.32 229.69 851.76 230.64 L 853.35 230.9 L 853.91 232.49 L 853.04 234.33 C 853.21 235.35 853.26 236.41 853.19 237.46 L 854.37 239.36 L 854.01 241.1 L 852.53 241.1 C 852.15 241.94 851.68 242.67 851.14 243.26 L 851.09 245.67 L 850.12 246.13 L 848.74 244.54 C 848.08 244.76 847.4 244.8 846.74 244.64 Z M 847.3 237.77 C 847.65 237.77 847.99 237.54 848.23 237.13 C 848.47 236.73 848.6 236.18 848.58 235.62 C 848.46 234.67 847.78 233.94 846.94 233.87 C 846.62 233.83 846.3 234.03 846.08 234.41 C 845.87 234.78 845.79 235.29 845.87 235.77 C 845.89 236.83 846.51 237.7 847.3 237.77" fill="#c0c6d2" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/><path d="M 834.6 256.9 L 833.58 256.38 L 833.32 254 C 832.63 253.43 832.02 252.63 831.53 251.67 L 830.04 251.41 L 829.48 249.87 L 830.45 247.97 C 830.27 246.96 830.2 245.9 830.25 244.85 L 829.17 243.1 L 829.48 241.62 L 831.01 241.38 C 831.38 240.56 831.83 239.84 832.35 239.26 L 832.35 236.95 L 833.37 236.23 L 834.5 237.67 C 835.21 237.45 835.94 237.45 836.65 237.67 L 837.98 236.28 L 839 236.9 L 839.16 239.15 C 839.8 239.76 840.35 240.56 840.8 241.51 L 842.39 241.77 L 842.95 243.36 L 842.08 245.21 C 842.24 246.23 842.3 247.28 842.23 248.33 L 843.41 250.23 L 843.05 251.97 L 841.57 251.97 C 841.19 252.81 840.72 253.54 840.18 254.13 L 840.13 256.54 L 839.16 257 L 837.78 255.41 C 837.12 255.63 836.44 255.67 835.78 255.51 Z M 836.34 248.64 C 836.69 248.64 837.03 248.41 837.27 248 C 837.51 247.6 837.64 247.05 837.62 246.49 C 837.5 245.54 836.82 244.82 835.98 244.74 C 835.65 244.71 835.34 244.9 835.12 245.28 C 834.91 245.66 834.83 246.16 834.91 246.64 C 834.92 247.7 835.55 248.57 836.34 248.64" fill="#c0c6d2" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/><path d="M 845.98 255.23 L 845.41 245.63 L 846.17 245.46 L 846.82 246.11 C 846.98 246.09 847.15 246.1 847.32 246.13 L 847.55 245.65 L 848.27 245.51 L 848.79 245.83 L 848.94 246.92 C 849.24 247.19 849.51 247.55 849.72 247.99 L 850.43 248.14 L 850.65 248.8 L 850.27 249.68 C 850.34 250.14 850.37 250.63 850.34 251.11 L 850.84 251.89 L 850.69 252.75 L 849.98 252.92 C 849.81 253.25 849.61 253.54 849.38 253.77 L 849.38 254.88 L 848.93 255.16 L 848.12 255.28 L 847.34 254.18 L 846.55 255.25 Z Z M 847.48 250.61 L 847.27 249.73 C 847.02 249.82 846.89 250.09 846.96 250.35 C 847.08 250.58 847.29 250.68 847.48 250.61 Z" fill="#697079" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/><path d="M 845.98 255.23 L 845.51 254.99 L 845.39 253.88 C 845.07 253.62 844.78 253.25 844.55 252.8 L 843.87 252.68 L 843.6 251.96 L 844.05 251.08 C 843.97 250.61 843.94 250.12 843.96 249.63 L 843.46 248.82 L 843.6 248.13 L 844.32 248.02 C 844.49 247.64 844.7 247.31 844.94 247.03 L 844.94 245.96 L 845.41 245.63 L 845.93 246.3 C 846.26 246.19 846.6 246.19 846.93 246.3 L 847.55 245.65 L 848.03 245.94 L 848.1 246.99 C 848.4 247.27 848.66 247.64 848.86 248.08 L 849.6 248.2 L 849.86 248.94 L 849.46 249.8 C 849.53 250.27 849.56 250.76 849.53 251.25 L 850.08 252.13 L 849.91 252.94 L 849.22 252.94 C 849.04 253.33 848.82 253.67 848.58 253.94 L 848.55 255.06 L 848.1 255.28 L 847.46 254.54 C 847.15 254.64 846.84 254.66 846.53 254.58 Z M 846.79 251.39 C 846.98 251.43 847.16 251.33 847.29 251.13 C 847.41 250.93 847.45 250.65 847.39 250.39 C 847.31 249.92 846.99 249.58 846.63 249.58 C 846.48 249.59 846.34 249.68 846.24 249.85 C 846.15 250.02 846.11 250.24 846.13 250.46 C 846.16 250.94 846.44 251.33 846.79 251.39 Z" fill="#c0c6d2" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="861.84" y="225" width="190" height="114.43" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 188px; height: 1px; padding-top: 282px; margin-left: 864px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>Start(): Listen to the instructions in form of *models.AppMonitor. <br /></div><div><br /></div><div>For each of these metric-collection-instructions, poll the log-cache and do some form of aggregation. Send the result to the Aggregator via the channel “appMetricChan”.</div></div></div></div></foreignObject><text x="864" y="286" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Start(): Listen to the instruct...</text></switch></g></g><g><path d="M 839.25 109.96 L 838.29 93.79 L 839.57 93.51 L 840.65 94.59 C 840.93 94.56 841.22 94.57 841.5 94.63 L 841.9 93.83 L 843.1 93.59 L 843.98 94.13 L 844.24 95.95 C 844.75 96.41 845.19 97.03 845.55 97.76 L 846.75 98.02 L 847.11 99.13 L 846.47 100.61 C 846.59 101.4 846.64 102.21 846.59 103.02 L 847.43 104.34 L 847.19 105.79 L 845.99 106.07 C 845.7 106.63 845.36 107.12 844.98 107.51 L 844.98 109.38 L 844.22 109.84 L 842.86 110.04 L 841.54 108.19 L 840.21 110 Z M 841.78 102.17 L 841.42 100.69 C 841.29 100.59 841.15 100.65 841.04 100.86 C 840.94 101.07 840.88 101.4 840.89 101.73 C 840.93 102.12 841.08 102.42 841.26 102.52 C 841.45 102.61 841.65 102.48 841.78 102.17 Z" fill="#697079" stroke="#697079" stroke-width="0.24" stroke-miterlimit="10" pointer-events="all"/><rect x="835" y="85" width="0" height="0" fill="none" stroke="none" pointer-events="all"/><path d="M 847.83 101.45 L 846.87 85.28 L 848.15 85 L 849.23 86.08 C 849.51 86.05 849.8 86.07 850.08 86.12 L 850.48 85.32 L 851.68 85.08 L 852.56 85.62 L 852.82 87.45 C 853.33 87.91 853.77 88.52 854.13 89.25 L 855.33 89.51 L 855.69 90.62 L 855.05 92.1 C 855.17 92.89 855.22 93.7 855.17 94.51 L 856.01 95.83 L 855.77 97.28 L 854.57 97.56 C 854.28 98.12 853.94 98.61 853.56 99 L 853.56 100.87 L 852.8 101.33 L 851.44 101.53 L 850.12 99.69 L 848.79 101.49 Z M 850.36 93.67 L 850 92.18 C 849.87 92.08 849.73 92.15 849.62 92.36 C 849.52 92.57 849.46 92.89 849.47 93.23 C 849.51 93.61 849.66 93.92 849.85 94.01 C 850.03 94.11 850.23 93.97 850.36 93.67 Z" fill="#697079" stroke="#697079" stroke-width="0.24" stroke-miterlimit="10" pointer-events="all"/><path d="M 847.83 101.45 L 847.03 101.05 L 846.83 99.19 C 846.29 98.74 845.81 98.12 845.42 97.36 L 844.26 97.16 L 843.82 95.95 L 844.58 94.47 C 844.44 93.68 844.38 92.85 844.42 92.02 L 843.58 90.66 L 843.82 89.49 L 845.02 89.31 C 845.31 88.67 845.66 88.11 846.07 87.65 L 846.07 85.84 L 846.87 85.28 L 847.75 86.4 C 848.31 86.23 848.88 86.23 849.43 86.4 L 850.48 85.32 L 851.28 85.8 L 851.4 87.57 C 851.9 88.04 852.34 88.67 852.68 89.41 L 853.93 89.61 L 854.37 90.86 L 853.68 92.3 C 853.81 93.1 853.86 93.93 853.8 94.75 L 854.73 96.24 L 854.45 97.6 L 853.28 97.6 C 852.99 98.26 852.62 98.83 852.2 99.29 L 852.16 101.17 L 851.4 101.53 L 850.32 100.29 C 849.8 100.46 849.27 100.49 848.75 100.37 Z M 849.19 94.99 C 849.47 94.99 849.73 94.81 849.92 94.49 C 850.11 94.18 850.21 93.75 850.2 93.31 C 850.1 92.56 849.57 92 848.91 91.94 C 848.66 91.91 848.41 92.07 848.24 92.36 C 848.07 92.66 848.01 93.05 848.07 93.43 C 848.09 94.26 848.57 94.94 849.19 94.99" fill="#c0c6d2" stroke="#697079" stroke-width="0.24" stroke-miterlimit="10" pointer-events="all"/><path d="M 839.25 109.96 L 838.45 109.56 L 838.25 107.69 C 837.71 107.25 837.23 106.62 836.84 105.87 L 835.68 105.67 L 835.24 104.46 L 836 102.98 C 835.86 102.18 835.8 101.35 835.84 100.53 L 835 99.17 L 835.24 98 L 836.44 97.82 C 836.73 97.18 837.08 96.61 837.49 96.16 L 837.49 94.35 L 838.29 93.79 L 839.17 94.91 C 839.73 94.74 840.3 94.74 840.85 94.91 L 841.9 93.83 L 842.7 94.31 L 842.82 96.08 C 843.32 96.55 843.75 97.18 844.1 97.92 L 845.34 98.12 L 845.79 99.37 L 845.1 100.81 C 845.23 101.61 845.27 102.44 845.22 103.26 L 846.15 104.74 L 845.87 106.11 L 844.7 106.11 C 844.41 106.76 844.04 107.33 843.62 107.79 L 843.58 109.68 L 842.82 110.04 L 841.74 108.8 C 841.22 108.97 840.69 109 840.17 108.88 Z M 840.61 103.5 C 840.89 103.5 841.15 103.32 841.34 103 C 841.53 102.68 841.63 102.25 841.62 101.81 C 841.52 101.07 840.99 100.51 840.33 100.45 C 840.08 100.42 839.83 100.58 839.66 100.87 C 839.49 101.16 839.43 101.56 839.49 101.93 C 839.5 102.76 839.99 103.44 840.61 103.5" fill="#c0c6d2" stroke="#697079" stroke-width="0.24" stroke-miterlimit="10" pointer-events="all"/><path d="M 848.16 108.65 L 847.71 101.14 L 848.31 101.01 L 848.81 101.51 C 848.94 101.5 849.07 101.51 849.2 101.53 L 849.39 101.16 L 849.95 101.05 L 850.36 101.3 L 850.48 102.15 C 850.71 102.36 850.92 102.65 851.08 102.99 L 851.64 103.11 L 851.81 103.62 L 851.51 104.31 C 851.57 104.67 851.59 105.05 851.57 105.43 L 851.96 106.04 L 851.85 106.72 L 851.29 106.85 C 851.16 107.11 851 107.33 850.82 107.52 L 850.82 108.38 L 850.47 108.6 L 849.84 108.69 L 849.22 107.83 L 848.61 108.67 Z Z M 849.33 105.04 L 849.17 104.35 C 848.97 104.42 848.87 104.63 848.93 104.83 C 849.02 105.02 849.18 105.09 849.33 105.04 Z" fill="#697079" stroke="#697079" stroke-width="0.24" stroke-miterlimit="10" pointer-events="all"/><path d="M 848.16 108.65 L 847.79 108.47 L 847.7 107.6 C 847.44 107.39 847.22 107.1 847.04 106.75 L 846.5 106.66 L 846.3 106.1 L 846.65 105.41 C 846.59 105.04 846.56 104.66 846.58 104.27 L 846.19 103.64 L 846.3 103.1 L 846.86 103.02 C 846.99 102.72 847.15 102.45 847.34 102.24 L 847.34 101.4 L 847.71 101.14 L 848.12 101.66 C 848.38 101.58 848.65 101.58 848.91 101.66 L 849.39 101.16 L 849.76 101.38 L 849.82 102.2 C 850.05 102.43 850.25 102.72 850.41 103.06 L 850.99 103.15 L 851.2 103.73 L 850.88 104.4 C 850.94 104.78 850.96 105.16 850.94 105.54 L 851.36 106.23 L 851.23 106.86 L 850.69 106.86 C 850.56 107.17 850.38 107.43 850.19 107.65 L 850.17 108.52 L 849.82 108.69 L 849.32 108.11 C 849.08 108.19 848.83 108.21 848.59 108.15 Z M 848.79 105.65 C 848.94 105.68 849.09 105.61 849.18 105.45 C 849.28 105.29 849.31 105.07 849.26 104.87 C 849.2 104.5 848.95 104.23 848.66 104.24 C 848.55 104.24 848.44 104.32 848.36 104.45 C 848.29 104.58 848.26 104.75 848.27 104.93 C 848.3 105.3 848.51 105.6 848.79 105.65 Z" fill="#c0c6d2" stroke="#697079" stroke-width="0.24" stroke-miterlimit="10" pointer-events="all"/></g><g/><g><rect x="535" y="635" width="520" height="320" rx="48" ry="48" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><rect x="770" y="609" width="50" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 619px; margin-left: 795px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Server</div></div></div></foreignObject><text x="795" y="623" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Server</text></switch></g></g><g><path d="M 682.9 799.33 L 682.9 819.3 L 682.9 804.3 L 682.9 817.97" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 682.9 823.22 L 679.4 816.22 L 682.9 817.97 L 686.4 816.22 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="561" y="706" width="243.75" height="93.33" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 585 706 L 585 799.33 M 780.75 706 L 780.75 799.33" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 193px; height: 1px; padding-top: 753px; margin-left: 586px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><b>eventgen_handler</b></div></div></div></foreignObject><text x="682" y="756" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">eventgen_handler</text></switch></g></g><g><rect x="561" y="824.34" width="243.75" height="93.33" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 585 824.34 L 585 917.67 M 780.75 824.34 L 780.75 917.67" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 193px; height: 1px; padding-top: 871px; margin-left: 586px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><b>Server</b></div></div></div></foreignObject><text x="682" y="875" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Server</text></switch></g></g><g><ellipse cx="660.04" cy="554.51" rx="9.211495946941783" ry="9.479571523367145" fill="rgb(255, 255, 255)" stroke="none" pointer-events="all"/><path d="M 660.04 546.92 L 660.04 545.03 C 664.43 545 668.24 548.17 669.12 552.6 C 670 557.04 667.72 561.49 663.66 563.25 C 659.61 565 654.92 563.56 652.46 559.81 C 650 556.06 650.46 551.05 653.55 547.83" fill="none" stroke="#0080f0" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 654.51 548.82 L 660.22 554.32 C 660.27 554.43 660.25 554.56 660.17 554.64 C 660.08 554.73 659.96 554.75 659.85 554.7 Z" fill="none" stroke="#0080f0" stroke-width="2" stroke-linejoin="round" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="865" y="73.17" width="190" height="114.43" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 188px; height: 1px; padding-top: 130px; margin-left: 867px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Start(): Caches and refresh app policies managed by this node every conf.Aggregator.PolicyPollerInterval duration internal. It shards policies by node.</div></div></div></foreignObject><text x="867" y="134" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Start(): Caches and refresh app...</text></switch></g></g><g><path d="M 561 752.66 L 260 752.7 L 260 124.5 L 554.63 124.48" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 559.88 124.48 L 552.88 127.98 L 554.63 124.48 L 552.88 120.98 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 638px; margin-left: 261px;"><div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">AppManager.QueryAppMetrics(...)</div></div></div></foreignObject><text x="261" y="642" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">AppManager.QueryAppMetrics(...)</text></switch></g></g><g><rect x="575" y="275" width="80" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 285px; margin-left: 615px;"><div data-drawio-colors="color: #009900; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 153, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">AppMetrics[]</div></div></div></foreignObject><text x="615" y="289" fill="#009900" font-family="Helvetica" font-size="12px" text-anchor="middle">AppMetrics[]</text></switch></g></g><g><rect x="710" y="540.04" width="60" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 555px; margin-left: 711px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">conf.aggregatorInterval</div></div></div></foreignObject><text x="740" y="559" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">conf.aggre...</text></switch></g></g><g><rect x="1465" y="5" width="170" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 15px; margin-left: 1550px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Autoscaler - Eventgenerator</div></div></div></foreignObject><text x="1550" y="19" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Autoscaler - Eventgenerator</text></switch></g></g><g/><g><rect x="1090" y="55" width="520" height="430" rx="64.5" ry="64.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><rect x="1315" y="55" width="70" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 65px; margin-left: 1350px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Generator</div></div></div></foreignObject><text x="1350" y="69" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Generator</text></switch></g></g><g><rect x="1130" y="85" width="150" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 95px; margin-left: 1205px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">1..config.EvaluatorCount</div></div></div></foreignObject><text x="1205" y="99" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">1..config.EvaluatorCount</text></switch></g></g><g><path d="M 1278 330 L 1278 255 L 1278.08 218.33 M 1282.08 218.33 L 1282 255 L 1282 330 M 1282.08 218.33" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="1.42" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 274px; margin-left: 1280px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">TriggersChan:<br /> *[]Triggers</div></div></div></foreignObject><text x="1280" y="277" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">TriggersChan:...</text></switch></g></g><g/><g><rect x="1140" y="105" width="240.67" height="93.33" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 1164 105 L 1164 198.33 M 1356.67 105 L 1356.67 198.33" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 191px; height: 1px; padding-top: 152px; margin-left: 1165px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><b>evaluator</b></div></div></div></foreignObject><text x="1260" y="155" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">evaluator</text></switch></g></g><g><rect x="1149.87" y="115" width="240.67" height="93.33" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 1173.87 115 L 1173.87 208.33 M 1366.55 115 L 1366.55 208.33" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 191px; height: 1px; padding-top: 162px; margin-left: 1175px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><b>evaluator</b></div></div></div></foreignObject><text x="1270" y="165" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">evaluator</text></switch></g></g><g><rect x="1159.75" y="125" width="240.67" height="93.33" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 1183.75 125 L 1183.75 218.33 M 1376.42 125 L 1376.42 218.33" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 191px; height: 1px; padding-top: 172px; margin-left: 1185px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><b>evaluator</b></div></div></div></foreignObject><text x="1280" y="175" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">evaluator</text></switch></g></g><g/><g><g fill="rgb(0, 0, 0)" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="1211.17" y="347.5">uuu</text></g></g><g><rect x="1156.67" y="330" width="236.58" height="69" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><path d="M 1180.67 330 L 1180.67 399 M 1369.25 330 L 1369.25 399" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 365px; margin-left: 1182px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><b>AppEvaluationManager<br /></b></div></div></div></foreignObject><text x="1275" y="368" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">AppEvaluationManager&#xa;</text></switch></g></g><g><rect x="1680" y="141.66" width="120" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 172px; margin-left: 1681px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">ScalingEngine</div></div></div></foreignObject><text x="1740" y="175" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">ScalingEngine</text></switch></g></g><g><path d="M 1400.42 171.7 L 1540.2 171.7 L 1673.63 171.66" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1678.88 171.66 L 1671.88 175.16 L 1673.63 171.66 L 1671.88 168.16 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 171px; margin-left: 1529px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">POST https</div></div></div></foreignObject><text x="1529" y="174" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">POST https</text></switch></g></g><g/><g><path d="M 1405.85 128.57 L 1404.62 107.9 L 1406.26 107.54 L 1407.64 108.93 C 1408 108.89 1408.36 108.91 1408.72 108.98 L 1409.23 107.95 L 1410.77 107.64 L 1411.89 108.34 L 1412.23 110.67 C 1412.87 111.26 1413.44 112.04 1413.89 112.98 L 1415.43 113.31 L 1415.89 114.72 L 1415.07 116.62 C 1415.23 117.62 1415.28 118.66 1415.22 119.7 L 1416.3 121.39 L 1415.99 123.23 L 1414.45 123.59 C 1414.09 124.31 1413.66 124.93 1413.17 125.44 L 1413.17 127.82 L 1412.2 128.41 L 1410.46 128.67 L 1408.77 126.31 L 1407.08 128.62 Z M 1409.08 118.62 L 1408.62 116.72 C 1408.45 116.59 1408.27 116.67 1408.14 116.94 C 1408.01 117.21 1407.93 117.63 1407.95 118.05 C 1408 118.54 1408.18 118.94 1408.42 119.06 C 1408.66 119.18 1408.92 119.01 1409.08 118.62 Z" fill="#697079" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/><rect x="1400.42" y="96.67" width="0" height="0" fill="none" stroke="none" pointer-events="all"/><path d="M 1416.81 117.7 L 1415.58 97.03 L 1417.22 96.67 L 1418.6 98.05 C 1418.96 98.02 1419.32 98.03 1419.68 98.11 L 1420.19 97.08 L 1421.73 96.77 L 1422.85 97.46 L 1423.19 99.8 C 1423.83 100.39 1424.4 101.17 1424.85 102.11 L 1426.39 102.44 L 1426.85 103.85 L 1426.03 105.75 C 1426.19 106.75 1426.25 107.79 1426.18 108.82 L 1427.26 110.52 L 1426.95 112.36 L 1425.42 112.72 C 1425.05 113.44 1424.62 114.06 1424.14 114.57 L 1424.14 116.95 L 1423.16 117.54 L 1421.42 117.8 L 1419.73 115.44 L 1418.04 117.75 Z M 1420.04 107.75 L 1419.58 105.85 C 1419.41 105.72 1419.24 105.8 1419.1 106.07 C 1418.97 106.34 1418.9 106.76 1418.91 107.18 C 1418.96 107.67 1419.14 108.06 1419.38 108.19 C 1419.63 108.31 1419.88 108.14 1420.04 107.75 Z" fill="#697079" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/><path d="M 1416.81 117.7 L 1415.79 117.18 L 1415.53 114.8 C 1414.84 114.23 1414.23 113.43 1413.74 112.46 L 1412.25 112.21 L 1411.69 110.67 L 1412.66 108.77 C 1412.48 107.76 1412.41 106.7 1412.46 105.64 L 1411.38 103.9 L 1411.69 102.41 L 1413.23 102.18 C 1413.59 101.36 1414.04 100.64 1414.56 100.05 L 1414.56 97.75 L 1415.58 97.03 L 1416.71 98.46 C 1417.42 98.24 1418.15 98.24 1418.86 98.46 L 1420.19 97.08 L 1421.22 97.7 L 1421.37 99.95 C 1422.01 100.56 1422.57 101.36 1423.01 102.31 L 1424.6 102.57 L 1425.16 104.16 L 1424.29 106 C 1424.46 107.02 1424.51 108.08 1424.44 109.13 L 1425.62 111.03 L 1425.26 112.77 L 1423.78 112.77 C 1423.4 113.61 1422.93 114.34 1422.39 114.93 L 1422.34 117.34 L 1421.37 117.8 L 1419.99 116.21 C 1419.33 116.43 1418.65 116.47 1417.99 116.31 Z M 1418.55 109.44 C 1418.9 109.44 1419.24 109.21 1419.48 108.8 C 1419.72 108.4 1419.85 107.85 1419.83 107.29 C 1419.71 106.34 1419.03 105.61 1418.19 105.54 C 1417.87 105.5 1417.55 105.7 1417.33 106.08 C 1417.12 106.45 1417.04 106.96 1417.12 107.44 C 1417.14 108.5 1417.76 109.37 1418.55 109.44" fill="#c0c6d2" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/><path d="M 1405.85 128.57 L 1404.83 128.05 L 1404.57 125.67 C 1403.88 125.1 1403.27 124.3 1402.78 123.34 L 1401.29 123.08 L 1400.73 121.54 L 1401.7 119.64 C 1401.52 118.63 1401.45 117.57 1401.5 116.52 L 1400.42 114.77 L 1400.73 113.29 L 1402.26 113.05 C 1402.63 112.23 1403.08 111.51 1403.6 110.93 L 1403.6 108.62 L 1404.62 107.9 L 1405.75 109.34 C 1406.46 109.12 1407.19 109.12 1407.9 109.34 L 1409.23 107.95 L 1410.25 108.57 L 1410.41 110.82 C 1411.05 111.43 1411.6 112.23 1412.05 113.18 L 1413.64 113.44 L 1414.2 115.03 L 1413.33 116.88 C 1413.49 117.9 1413.55 118.95 1413.48 120 L 1414.66 121.9 L 1414.3 123.64 L 1412.82 123.64 C 1412.44 124.48 1411.97 125.21 1411.43 125.8 L 1411.38 128.21 L 1410.41 128.67 L 1409.03 127.08 C 1408.37 127.3 1407.69 127.34 1407.03 127.18 Z M 1407.59 120.31 C 1407.94 120.31 1408.28 120.08 1408.52 119.67 C 1408.76 119.27 1408.89 118.72 1408.87 118.16 C 1408.75 117.21 1408.07 116.49 1407.23 116.41 C 1406.9 116.37 1406.59 116.57 1406.37 116.95 C 1406.16 117.33 1406.08 117.83 1406.16 118.31 C 1406.17 119.37 1406.8 120.24 1407.59 120.31" fill="#c0c6d2" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/><path d="M 1417.23 126.9 L 1416.66 117.3 L 1417.42 117.13 L 1418.07 117.78 C 1418.23 117.76 1418.4 117.77 1418.57 117.8 L 1418.8 117.32 L 1419.52 117.18 L 1420.04 117.5 L 1420.19 118.59 C 1420.49 118.86 1420.76 119.22 1420.97 119.66 L 1421.68 119.81 L 1421.9 120.47 L 1421.52 121.35 C 1421.59 121.81 1421.62 122.3 1421.59 122.78 L 1422.09 123.56 L 1421.94 124.42 L 1421.23 124.59 C 1421.06 124.92 1420.86 125.21 1420.63 125.44 L 1420.63 126.55 L 1420.18 126.83 L 1419.37 126.95 L 1418.59 125.85 L 1417.8 126.92 Z Z M 1418.73 122.28 L 1418.52 121.4 C 1418.27 121.49 1418.14 121.76 1418.21 122.02 C 1418.33 122.25 1418.54 122.35 1418.73 122.28 Z" fill="#697079" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/><path d="M 1417.23 126.9 L 1416.76 126.66 L 1416.64 125.55 C 1416.32 125.29 1416.03 124.92 1415.8 124.47 L 1415.12 124.35 L 1414.85 123.63 L 1415.3 122.75 C 1415.22 122.28 1415.19 121.79 1415.21 121.3 L 1414.71 120.49 L 1414.85 119.8 L 1415.57 119.69 C 1415.74 119.31 1415.95 118.98 1416.19 118.7 L 1416.19 117.63 L 1416.66 117.3 L 1417.18 117.96 C 1417.51 117.86 1417.85 117.86 1418.18 117.96 L 1418.8 117.32 L 1419.28 117.61 L 1419.35 118.66 C 1419.65 118.94 1419.91 119.31 1420.11 119.75 L 1420.85 119.87 L 1421.11 120.61 L 1420.71 121.47 C 1420.78 121.94 1420.81 122.43 1420.78 122.92 L 1421.33 123.8 L 1421.16 124.61 L 1420.47 124.61 C 1420.29 125 1420.07 125.34 1419.83 125.61 L 1419.8 126.73 L 1419.35 126.95 L 1418.71 126.21 C 1418.4 126.31 1418.09 126.33 1417.78 126.25 Z M 1418.04 123.06 C 1418.23 123.1 1418.41 123 1418.54 122.8 C 1418.66 122.6 1418.7 122.32 1418.64 122.06 C 1418.56 121.58 1418.24 121.25 1417.88 121.25 C 1417.73 121.26 1417.59 121.35 1417.49 121.52 C 1417.4 121.69 1417.36 121.91 1417.38 122.13 C 1417.41 122.61 1417.69 123 1418.04 123.06 Z" fill="#c0c6d2" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/></g><g/><g><path d="M 1405.85 358.57 L 1404.62 337.9 L 1406.26 337.54 L 1407.64 338.93 C 1408 338.89 1408.36 338.91 1408.72 338.98 L 1409.23 337.95 L 1410.77 337.64 L 1411.89 338.34 L 1412.23 340.67 C 1412.87 341.26 1413.44 342.04 1413.89 342.98 L 1415.43 343.31 L 1415.89 344.72 L 1415.07 346.62 C 1415.23 347.62 1415.28 348.66 1415.22 349.7 L 1416.3 351.39 L 1415.99 353.23 L 1414.45 353.59 C 1414.09 354.31 1413.66 354.93 1413.17 355.44 L 1413.17 357.82 L 1412.2 358.41 L 1410.46 358.67 L 1408.77 356.31 L 1407.08 358.62 Z M 1409.08 348.62 L 1408.62 346.72 C 1408.45 346.59 1408.27 346.67 1408.14 346.94 C 1408.01 347.21 1407.93 347.63 1407.95 348.05 C 1408 348.54 1408.18 348.94 1408.42 349.06 C 1408.66 349.18 1408.92 349.01 1409.08 348.62 Z" fill="#697079" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/><rect x="1400.42" y="326.67" width="0" height="0" fill="none" stroke="none" pointer-events="all"/><path d="M 1416.81 347.7 L 1415.58 327.03 L 1417.22 326.67 L 1418.6 328.05 C 1418.96 328.02 1419.32 328.03 1419.68 328.11 L 1420.19 327.08 L 1421.73 326.77 L 1422.85 327.46 L 1423.19 329.8 C 1423.83 330.39 1424.4 331.17 1424.85 332.11 L 1426.39 332.44 L 1426.85 333.85 L 1426.03 335.75 C 1426.19 336.75 1426.25 337.79 1426.18 338.82 L 1427.26 340.52 L 1426.95 342.36 L 1425.42 342.72 C 1425.05 343.44 1424.62 344.06 1424.14 344.57 L 1424.14 346.95 L 1423.16 347.54 L 1421.42 347.8 L 1419.73 345.44 L 1418.04 347.75 Z M 1420.04 337.75 L 1419.58 335.85 C 1419.41 335.72 1419.24 335.8 1419.1 336.07 C 1418.97 336.34 1418.9 336.76 1418.91 337.18 C 1418.96 337.67 1419.14 338.06 1419.38 338.19 C 1419.63 338.31 1419.88 338.14 1420.04 337.75 Z" fill="#697079" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/><path d="M 1416.81 347.7 L 1415.79 347.18 L 1415.53 344.8 C 1414.84 344.23 1414.23 343.43 1413.74 342.46 L 1412.25 342.21 L 1411.69 340.67 L 1412.66 338.77 C 1412.48 337.76 1412.41 336.7 1412.46 335.64 L 1411.38 333.9 L 1411.69 332.41 L 1413.23 332.18 C 1413.59 331.36 1414.04 330.64 1414.56 330.05 L 1414.56 327.75 L 1415.58 327.03 L 1416.71 328.46 C 1417.42 328.24 1418.15 328.24 1418.86 328.46 L 1420.19 327.08 L 1421.22 327.7 L 1421.37 329.95 C 1422.01 330.56 1422.57 331.36 1423.01 332.31 L 1424.6 332.57 L 1425.16 334.16 L 1424.29 336 C 1424.46 337.02 1424.51 338.08 1424.44 339.13 L 1425.62 341.03 L 1425.26 342.77 L 1423.78 342.77 C 1423.4 343.61 1422.93 344.34 1422.39 344.93 L 1422.34 347.34 L 1421.37 347.8 L 1419.99 346.21 C 1419.33 346.43 1418.65 346.47 1417.99 346.31 Z M 1418.55 339.44 C 1418.9 339.44 1419.24 339.21 1419.48 338.8 C 1419.72 338.4 1419.85 337.85 1419.83 337.29 C 1419.71 336.34 1419.03 335.61 1418.19 335.54 C 1417.87 335.5 1417.55 335.7 1417.33 336.08 C 1417.12 336.45 1417.04 336.96 1417.12 337.44 C 1417.14 338.5 1417.76 339.37 1418.55 339.44" fill="#c0c6d2" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/><path d="M 1405.85 358.57 L 1404.83 358.05 L 1404.57 355.67 C 1403.88 355.1 1403.27 354.3 1402.78 353.34 L 1401.29 353.08 L 1400.73 351.54 L 1401.7 349.64 C 1401.52 348.63 1401.45 347.57 1401.5 346.52 L 1400.42 344.77 L 1400.73 343.29 L 1402.26 343.05 C 1402.63 342.23 1403.08 341.51 1403.6 340.93 L 1403.6 338.62 L 1404.62 337.9 L 1405.75 339.34 C 1406.46 339.12 1407.19 339.12 1407.9 339.34 L 1409.23 337.95 L 1410.25 338.57 L 1410.41 340.82 C 1411.05 341.43 1411.6 342.23 1412.05 343.18 L 1413.64 343.44 L 1414.2 345.03 L 1413.33 346.88 C 1413.49 347.9 1413.55 348.95 1413.48 350 L 1414.66 351.9 L 1414.3 353.64 L 1412.82 353.64 C 1412.44 354.48 1411.97 355.21 1411.43 355.8 L 1411.38 358.21 L 1410.41 358.67 L 1409.03 357.08 C 1408.37 357.3 1407.69 357.34 1407.03 357.18 Z M 1407.59 350.31 C 1407.94 350.31 1408.28 350.08 1408.52 349.67 C 1408.76 349.27 1408.89 348.72 1408.87 348.16 C 1408.75 347.21 1408.07 346.49 1407.23 346.41 C 1406.9 346.37 1406.59 346.57 1406.37 346.95 C 1406.16 347.33 1406.08 347.83 1406.16 348.31 C 1406.17 349.37 1406.8 350.24 1407.59 350.31" fill="#c0c6d2" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/><path d="M 1417.23 356.9 L 1416.66 347.3 L 1417.42 347.13 L 1418.07 347.78 C 1418.23 347.76 1418.4 347.77 1418.57 347.8 L 1418.8 347.32 L 1419.52 347.18 L 1420.04 347.5 L 1420.19 348.59 C 1420.49 348.86 1420.76 349.22 1420.97 349.66 L 1421.68 349.81 L 1421.9 350.47 L 1421.52 351.35 C 1421.59 351.81 1421.62 352.3 1421.59 352.78 L 1422.09 353.56 L 1421.94 354.42 L 1421.23 354.59 C 1421.06 354.92 1420.86 355.21 1420.63 355.44 L 1420.63 356.55 L 1420.18 356.83 L 1419.37 356.95 L 1418.59 355.85 L 1417.8 356.92 Z Z M 1418.73 352.28 L 1418.52 351.4 C 1418.27 351.49 1418.14 351.76 1418.21 352.02 C 1418.33 352.25 1418.54 352.35 1418.73 352.28 Z" fill="#697079" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/><path d="M 1417.23 356.9 L 1416.76 356.66 L 1416.64 355.55 C 1416.32 355.29 1416.03 354.92 1415.8 354.47 L 1415.12 354.35 L 1414.85 353.63 L 1415.3 352.75 C 1415.22 352.28 1415.19 351.79 1415.21 351.3 L 1414.71 350.49 L 1414.85 349.8 L 1415.57 349.69 C 1415.74 349.31 1415.95 348.98 1416.19 348.7 L 1416.19 347.63 L 1416.66 347.3 L 1417.18 347.96 C 1417.51 347.86 1417.85 347.86 1418.18 347.96 L 1418.8 347.32 L 1419.28 347.61 L 1419.35 348.66 C 1419.65 348.94 1419.91 349.31 1420.11 349.75 L 1420.85 349.87 L 1421.11 350.61 L 1420.71 351.47 C 1420.78 351.94 1420.81 352.43 1420.78 352.92 L 1421.33 353.8 L 1421.16 354.61 L 1420.47 354.61 C 1420.29 355 1420.07 355.34 1419.83 355.61 L 1419.8 356.73 L 1419.35 356.95 L 1418.71 356.21 C 1418.4 356.31 1418.09 356.33 1417.78 356.25 Z M 1418.04 353.06 C 1418.23 353.1 1418.41 353 1418.54 352.8 C 1418.66 352.6 1418.7 352.32 1418.64 352.06 C 1418.56 351.58 1418.24 351.25 1417.88 351.25 C 1417.73 351.26 1417.59 351.35 1417.49 351.52 C 1417.4 351.69 1417.36 351.91 1417.38 352.13 C 1417.41 352.61 1417.69 353 1418.04 353.06 Z" fill="#c0c6d2" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="1430.42" y="315" width="170" height="150" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 390px; margin-left: 1432px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">doEvaluate(): <br />- Create any missing circuite<br /> breaker for the appPolicies <br />retrived by <b>AppManager.<br />- </b>writes on triggers channel<br />an updated list per app of all<br />existing rules on that app <br />policy<b>. </b>This happens <br /> every 60s by default.<br /><span style="color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px">%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%22%20style%3D%22group%22%20vertex%3D%221%22%20connectable%3D%220%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%2210%22%20y%3D%2275%22%20width%3D%22230%22%20height%3D%2289.99999999999999%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3CmxCell%20id%3D%223%22%20value%3D%22%22%20style%3D%22verticalLabelPosition%3Dbottom%3Bsketch%3D0%3Baspect%3Dfixed%3Bhtml%3D1%3BverticalAlign%3Dtop%3BstrokeColor%3Dnone%3Balign%3Dcenter%3BoutlineConnect%3D0%3Bshape%3Dmxgraph.citrix.process%3B%22%20vertex%3D%221%22%20parent%3D%222%22%3E%3CmxGeometry%20y%3D%2221.67%22%20width%3D%2226.84%22%20height%3D%2232%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3CmxCell%20id%3D%224%22%20value%3D%22Start()%3A%20Caches%20and%20refresh%20app%20%26lt%3Bbr%26gt%3Bpolicies%20managed%20by%20this%20%26lt%3Bbr%26gt%3BeventGenerator%20node%20every%20x%20time%20%26lt%3Bbr%26gt%3Binternal.%20It%20shards%20policies%20by%20%26lt%3Bbr%26gt%3BeventGenerator%26amp%3Bnbsp%3Bnode.%26lt%3Bbr%26gt%3B%26amp%3Bnbsp%3B%22%20style%3D%22text%3Bhtml%3D1%3Balign%3Dleft%3BverticalAlign%3Dmiddle%3Bresizable%3D0%3Bpoints%3D%5B%5D%3Bautosize%3D1%3BstrokeColor%3Dnone%3BfillColor%3Dnone%3B%22%20vertex%3D%221%22%20parent%3D%222%22%3E%3CmxGeometry%20x%3D%2229.999999999999943%22%20width%3D%22200%22%20height%3D%2290%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3ECra</span><b><br /></b></div></div></div></foreignObject><text x="1432" y="394" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">doEvaluate():...</text></switch></g></g><g><rect x="1430.42" y="75" width="180" height="80" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 115px; margin-left: 1432px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">doEvaluate(): <br />- sets default break duration if <br />duration is missing for specific <br />triggers<br /><span style="color: rgba(0 , 0 , 0 , 0) ; font-family: monospace ; font-size: 0px">%3CmxGraphModel%3E%3Croot%3E%3CmxCell%20id%3D%220%22%2F%3E%3CmxCell%20id%3D%221%22%20parent%3D%220%22%2F%3E%3CmxCell%20id%3D%222%22%20value%3D%22%22%20style%3D%22group%22%20vertex%3D%221%22%20connectable%3D%220%22%20parent%3D%221%22%3E%3CmxGeometry%20x%3D%2210%22%20y%3D%2275%22%20width%3D%22230%22%20height%3D%2289.99999999999999%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3CmxCell%20id%3D%223%22%20value%3D%22%22%20style%3D%22verticalLabelPosition%3Dbottom%3Bsketch%3D0%3Baspect%3Dfixed%3Bhtml%3D1%3BverticalAlign%3Dtop%3BstrokeColor%3Dnone%3Balign%3Dcenter%3BoutlineConnect%3D0%3Bshape%3Dmxgraph.citrix.process%3B%22%20vertex%3D%221%22%20parent%3D%222%22%3E%3CmxGeometry%20y%3D%2221.67%22%20width%3D%2226.84%22%20height%3D%2232%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3CmxCell%20id%3D%224%22%20value%3D%22Start()%3A%20Caches%20and%20refresh%20app%20%26lt%3Bbr%26gt%3Bpolicies%20managed%20by%20this%20%26lt%3Bbr%26gt%3BeventGenerator%20node%20every%20x%20time%20%26lt%3Bbr%26gt%3Binternal.%20It%20shards%20policies%20by%20%26lt%3Bbr%26gt%3BeventGenerator%26amp%3Bnbsp%3Bnode.%26lt%3Bbr%26gt%3B%26amp%3Bnbsp%3B%22%20style%3D%22text%3Bhtml%3D1%3Balign%3Dleft%3BverticalAlign%3Dmiddle%3Bresizable%3D0%3Bpoints%3D%5B%5D%3Bautosize%3D1%3BstrokeColor%3Dnone%3BfillColor%3Dnone%3B%22%20vertex%3D%221%22%20parent%3D%222%22%3E%3CmxGeometry%20x%3D%2229.999999999999943%22%20width%3D%22200%22%20height%3D%2290%22%20as%3D%22geometry%22%2F%3E%3C%2FmxCell%3E%3C%2Froot%3E%3C%2FmxGraphModel%3ECra</span><b><br /></b></div></div></div></foreignObject><text x="1432" y="119" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">doEvaluate():...</text></switch></g></g><g><path d="M 420 264.99 L 425 265 L 220 265 L 220 144 L 156.37 143.96" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 151.12 143.96 L 158.12 140.46 L 156.37 143.96 L 158.12 147.46 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 212px; margin-left: 277px;"><div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">GET /v1/apps/{appid}/metric_histories/{metrictype}</div></div></div></foreignObject><text x="277" y="215" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">GET /v1/apps/{appid}/metric_histories/{metrictype}</text></switch></g></g><g><rect x="757.33" y="38.29" width="80" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 48px; margin-left: 797px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Aggregator</div></div></div></foreignObject><text x="797" y="52" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Aggregator</text></switch></g></g><g><path d="M 842.76 538.11 L 841.53 517.44 L 843.17 517.08 L 844.55 518.47 C 844.91 518.43 845.27 518.45 845.63 518.52 L 846.14 517.49 L 847.68 517.18 L 848.8 517.88 L 849.14 520.21 C 849.78 520.8 850.35 521.58 850.8 522.52 L 852.34 522.85 L 852.8 524.26 L 851.98 526.16 C 852.14 527.16 852.19 528.2 852.13 529.24 L 853.21 530.93 L 852.9 532.77 L 851.36 533.13 C 851 533.85 850.57 534.47 850.08 534.98 L 850.08 537.36 L 849.11 537.95 L 847.37 538.21 L 845.68 535.85 L 843.99 538.16 Z M 845.99 528.16 L 845.53 526.26 C 845.36 526.13 845.18 526.21 845.05 526.48 C 844.92 526.75 844.84 527.17 844.86 527.59 C 844.91 528.09 845.09 528.48 845.33 528.6 C 845.57 528.72 845.83 528.55 845.99 528.16 Z" fill="#697079" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/><rect x="837.33" y="506.21" width="0" height="0" fill="none" stroke="none" pointer-events="all"/><path d="M 853.72 527.24 L 852.49 506.57 L 854.13 506.21 L 855.51 507.59 C 855.87 507.56 856.23 507.57 856.59 507.65 L 857.1 506.62 L 858.64 506.31 L 859.76 507.01 L 860.1 509.34 C 860.74 509.93 861.31 510.71 861.76 511.65 L 863.3 511.98 L 863.76 513.39 L 862.94 515.29 C 863.1 516.29 863.16 517.33 863.09 518.36 L 864.17 520.06 L 863.86 521.9 L 862.33 522.26 C 861.96 522.98 861.53 523.6 861.05 524.11 L 861.05 526.49 L 860.07 527.08 L 858.33 527.34 L 856.64 524.98 L 854.95 527.29 Z M 856.95 517.29 L 856.49 515.39 C 856.32 515.26 856.15 515.34 856.01 515.61 C 855.88 515.88 855.81 516.3 855.82 516.72 C 855.87 517.21 856.05 517.6 856.29 517.73 C 856.54 517.85 856.79 517.68 856.95 517.29 Z" fill="#697079" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/><path d="M 853.72 527.24 L 852.7 526.72 L 852.44 524.34 C 851.75 523.77 851.14 522.97 850.65 522.01 L 849.16 521.75 L 848.6 520.21 L 849.57 518.31 C 849.39 517.3 849.32 516.24 849.37 515.18 L 848.29 513.44 L 848.6 511.95 L 850.14 511.72 C 850.5 510.9 850.95 510.18 851.47 509.59 L 851.47 507.29 L 852.49 506.57 L 853.62 508.01 C 854.33 507.79 855.06 507.79 855.77 508.01 L 857.1 506.62 L 858.13 507.24 L 858.28 509.49 C 858.92 510.1 859.48 510.9 859.92 511.85 L 861.51 512.11 L 862.07 513.7 L 861.2 515.54 C 861.37 516.56 861.42 517.62 861.35 518.67 L 862.53 520.57 L 862.17 522.31 L 860.69 522.31 C 860.31 523.15 859.84 523.88 859.3 524.47 L 859.25 526.88 L 858.28 527.34 L 856.9 525.75 C 856.24 525.97 855.56 526.01 854.9 525.85 Z M 855.46 518.98 C 855.81 518.98 856.15 518.75 856.39 518.34 C 856.63 517.94 856.76 517.39 856.74 516.83 C 856.62 515.88 855.94 515.15 855.1 515.08 C 854.78 515.04 854.46 515.24 854.24 515.62 C 854.03 515.99 853.95 516.5 854.03 516.98 C 854.05 518.04 854.67 518.91 855.46 518.98" fill="#c0c6d2" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/><path d="M 842.76 538.11 L 841.74 537.59 L 841.48 535.21 C 840.79 534.64 840.18 533.84 839.69 532.88 L 838.2 532.62 L 837.64 531.08 L 838.61 529.18 C 838.43 528.17 838.36 527.11 838.41 526.06 L 837.33 524.31 L 837.64 522.83 L 839.17 522.59 C 839.54 521.77 839.99 521.05 840.51 520.47 L 840.51 518.16 L 841.53 517.44 L 842.66 518.88 C 843.37 518.66 844.1 518.66 844.81 518.88 L 846.14 517.49 L 847.16 518.11 L 847.32 520.36 C 847.96 520.97 848.51 521.77 848.96 522.72 L 850.55 522.98 L 851.11 524.57 L 850.24 526.42 C 850.4 527.44 850.46 528.49 850.39 529.54 L 851.57 531.44 L 851.21 533.18 L 849.73 533.18 C 849.35 534.02 848.88 534.75 848.34 535.34 L 848.29 537.75 L 847.32 538.21 L 845.94 536.62 C 845.28 536.84 844.6 536.88 843.94 536.72 Z M 844.5 529.85 C 844.85 529.85 845.19 529.62 845.43 529.21 C 845.67 528.81 845.8 528.26 845.78 527.7 C 845.66 526.75 844.98 526.03 844.14 525.95 C 843.81 525.92 843.5 526.11 843.28 526.49 C 843.07 526.87 842.99 527.37 843.07 527.85 C 843.08 528.91 843.71 529.78 844.5 529.85" fill="#c0c6d2" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/><path d="M 854.14 536.44 L 853.57 526.84 L 854.33 526.67 L 854.98 527.32 C 855.14 527.3 855.31 527.31 855.48 527.34 L 855.71 526.86 L 856.43 526.72 L 856.95 527.04 L 857.1 528.13 C 857.4 528.4 857.67 528.76 857.88 529.2 L 858.59 529.35 L 858.81 530.01 L 858.43 530.89 C 858.5 531.35 858.53 531.84 858.5 532.32 L 859 533.1 L 858.85 533.96 L 858.14 534.13 C 857.97 534.46 857.77 534.75 857.54 534.98 L 857.54 536.09 L 857.09 536.37 L 856.28 536.49 L 855.5 535.39 L 854.71 536.46 Z Z M 855.64 531.82 L 855.43 530.94 C 855.18 531.03 855.05 531.3 855.12 531.56 C 855.24 531.79 855.45 531.89 855.64 531.82 Z" fill="#697079" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/><path d="M 854.14 536.44 L 853.67 536.2 L 853.55 535.09 C 853.23 534.83 852.94 534.46 852.71 534.01 L 852.03 533.89 L 851.76 533.17 L 852.21 532.29 C 852.13 531.82 852.1 531.33 852.12 530.84 L 851.62 530.03 L 851.76 529.34 L 852.48 529.23 C 852.65 528.85 852.86 528.52 853.1 528.24 L 853.1 527.17 L 853.57 526.84 L 854.09 527.51 C 854.42 527.4 854.76 527.4 855.09 527.51 L 855.71 526.86 L 856.19 527.15 L 856.26 528.2 C 856.56 528.48 856.82 528.85 857.02 529.29 L 857.76 529.41 L 858.02 530.15 L 857.62 531.01 C 857.69 531.48 857.72 531.97 857.69 532.46 L 858.24 533.34 L 858.07 534.15 L 857.38 534.15 C 857.2 534.54 856.98 534.88 856.74 535.15 L 856.71 536.27 L 856.26 536.49 L 855.62 535.75 C 855.31 535.85 855 535.87 854.69 535.79 Z M 854.95 532.6 C 855.14 532.64 855.32 532.54 855.45 532.34 C 855.57 532.14 855.61 531.86 855.55 531.6 C 855.47 531.13 855.15 530.79 854.79 530.79 C 854.64 530.8 854.5 530.89 854.4 531.06 C 854.31 531.23 854.27 531.45 854.29 531.67 C 854.32 532.15 854.6 532.54 854.95 532.6 Z" fill="#c0c6d2" stroke="#697079" stroke-width="0.31" stroke-miterlimit="10" pointer-events="all"/></g><g><rect x="870" y="475" width="190" height="114.43" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 188px; height: 1px; padding-top: 532px; margin-left: 872px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div>Start():</div><div>Pulls all policies via AppManager and turns them into AppMonitor rules that get streamed to the a MetricPoller.</div><div>Caches appMetrics and periodically saves them in Bulk via AppManager </div><div><br /></div></div></div></div></foreignObject><text x="872" y="536" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Start():...</text></switch></g></g><g><rect x="660" y="405" width="230" height="30" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 228px; height: 1px; padding-top: 420px; margin-left: 661px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="font-size: 11px ; background-color: rgb(255 , 255 , 255)">appMonitorChan: <br />*models.AppMonitor</span></div></div></div></foreignObject><text x="775" y="424" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">appMonitorChan:...</text></switch></g></g><g><path d="M 1320.5 105 L 1280 105 L 1280 25 L 688 25 L 688 73.58" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 688 78.83 L 684.5 71.83 L 688 73.58 L 691.5 71.83 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 26px; margin-left: 1062px;"><div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">AppManager.QueryAppMetrics(...)</div></div></div></foreignObject><text x="1062" y="29" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">AppManager.QueryAppMetrics(...)</text></switch></g></g><g><path d="M 688 1075 L 684.21 924.04" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 684.08 918.79 L 687.75 925.7 L 684.21 924.04 L 680.75 925.87 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 992px; margin-left: 688px;"><div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><span style="font-size: 12px ; background-color: rgb(248 , 249 , 250)">GET "/v1/apps/{appid}/aggregated_metric_histories/{metrictype}"</span></div></div></div></foreignObject><text x="688" y="996" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">GET "/v1/apps/{appid}/aggregated_metric_histories/{metrictype}"</text></switch></g></g><g><rect x="290" y="165" width="110" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 175px; margin-left: 345px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">Instance metrics </div></div></div></foreignObject><text x="345" y="179" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Instance metrics </text></switch></g></g><g><rect x="510" y="965" width="80" height="20" fill="none" stroke="none" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 975px; margin-left: 550px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">App Metrics</div></div></div></foreignObject><text x="550" y="979" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">App Metrics</text></switch></g></g><g><rect x="630" y="1075" width="120" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1105px; margin-left: 631px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">apiserver</div></div></div></foreignObject><text x="690" y="1109" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">apiserver</text></switch></g></g><g/><g><rect x="0" y="325" width="132.12" height="60" fill="#ffffff" stroke="#009900" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 130px; height: 1px; padding-top: 355px; margin-left: 1px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">log-cache</div></div></div></foreignObject><text x="66" y="359" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">log-cache</text></switch></g></g><g><rect x="423.89" y="343.89" width="121.11" height="22.21" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 119px; height: 1px; padding-top: 355px; margin-left: 425px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span>LogCacheClient</span></div></div></div></foreignObject><text x="484" y="359" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">LogCacheClient</text></switch></g></g><g><path d="M 423.89 354.99 L 138.49 355" fill="none" stroke="#009900" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 133.24 355 L 140.24 351.5 L 138.49 355 L 140.24 358.5 Z" fill="#009900" stroke="#009900" stroke-miterlimit="10" pointer-events="all"/></g><g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 352px; margin-left: 283px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;"><span style="color: rgb(0 , 153 , 0)">via HTTPS or gRPC</span></div></div></div></foreignObject><text x="283" y="356" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">via HTTPS or gRPC</text></switch></g></g><g><path d="M 521 310.2 L 521 304 L 545 304 L 484.4 304 L 484.44 337.52" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 484.44 342.77 L 480.94 335.78 L 484.44 337.52 L 487.94 335.77 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><path d="M 521 280.2 L 561 300.2 L 521 320.2 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g><g><path d="M 561 300.2 L 622 300.2 L 622 298.2 L 651.99 298.22" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 657.24 298.22 L 650.24 301.71 L 651.99 298.22 L 650.25 294.71 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.drawio.com/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>