---
applications:
  - name: ((app_name))
    env:
      NODE_OPTIONS: --max_old_space_size=((memory_mb))
      NODE_TLS_REJECT_UNAUTHORIZED: "((node_tls_reject_unauthorized))"
      SERVICE_NAME: ((service_name))
      NODE_ENV: production
      MEMORY_MAX: ((memory_mb))
    stack: cflinuxfs3
    routes:
      - route: ((app_name)).((app_domain))
        protocol: http1
    processes:
      - type: web
        instances: ((instances))
        memory: ((memory_mb))M
        disk_quota: 200M
        health-check-type: http
        health-check-invocation-timeout: 10
        health-check-http-endpoint: "/health"
        timeout: 120
